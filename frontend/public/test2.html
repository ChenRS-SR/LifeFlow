<!DOCTYPE html>
<html>
<body>
<h1>最简单的测试</h1>
<button onclick="test1()">测试1: 空数据</button>
<button onclick="test2()">测试2: 有数据</button>
<pre id="result"></pre>

<script>
function log(s) { document.getElementById('result').textContent += '\n' + s; }

function test1() {
    log('\n测试1: 空数据...');
    fetch('http://127.0.0.1:8000/api/auth/register', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: '{}'
    })
    .then(r => r.text().then(t => log('状态:' + r.status + ' 返回:' + t)))
    .catch(e => log('错误:' + e.message));
}

function test2() {
    log('\n测试2: 有数据...');
    fetch('http://127.0.0.1:8000/api/auth/register', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: '{"username":"abc","password":"123"}'
    })
    .then(r => r.text().then(t => log('状态:' + r.status + ' 返回:' + t)))
    .catch(e => log('错误:' + e.message));
}
</script>
</body>
</html>
